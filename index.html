<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Astrometica three.js map</title>
		<style>
			body { 
                margin: 0; 
                font-family: Arial, Helvetica, sans-serif;
            }
            .noselect {
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }
            #info {
                position: absolute;
                top: 0px;
                width: 100%;
                padding: 10px;
                box-sizing: border-box;
                text-align: center;
                z-index: 100;
                color: white;
            }
            #attribution {
                font-size: 12px;
                position: absolute;
                bottom: 0px;
                right: 0px;
                padding: 10px;
                box-sizing: border-box;
                text-align: center;
                z-index: 100;
                color: white;
                background-color: rgba(255, 255, 255, 0.2);
                padding: 5px;
                border-top-left-radius: 5px;;
            }
            #helpbutton {
                position: absolute;
                top: 10px;
                right: 10px;
                background-color: rgba(255, 255, 255, 0.2);
                color: white;
                padding: 5px;
                width: 15px;
                height: 15px;
                border-radius: 15px;
                cursor: pointer;
                z-index: 100;
                text-align: center;
                font-weight: bold;
                cursor: pointer;
            }
            .popup {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: rgba(0, 0, 0, 0.9);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: white;
                padding: 10px;
                border-radius: 15px;
                z-index: 100;
            }
            #helptext {
                text-align: left;
                margin-top: -15px;
            }
            .popupClose {
                position: absolute;
                top: 4px;
                right: 4px;
                padding: 5px;
                cursor: pointer;
            }
            #toptitle {
                font-size: 20px;
                font-weight: bold;
                background-color: rgba(255, 255, 255, 0.2);
                padding: 5px;
                border-radius: 5px;
            }
            a {
                color: #08f;
            }
            #leftpanel {
                position: absolute;
                top: 50px;
                left: 10px;
                background-color: rgba(0, 0, 0, 0.9);
                color: white;
                padding: 10px;
                border-radius: 15px;
                z-index: 100;
            }
            #locationTitle, #depositsTitle, #customMarkersTitle {
                cursor: pointer;
            }
            #locationslist, #depositslist, #customMarkers, #customMarkersList {
                font-size: 14px;
                padding-inline-start: 20px;
            }
            #locationslist li, #depositslist li, #customMarkersList li {
                /* list-style-type: none; */
                cursor: pointer;
            }
            .expander {
                display: inline-block;
            }
            #coordinates {
                position: absolute;
                bottom: 10px;
                left: 10px;
                background-color: rgba(0, 0, 0, 0.5);
                color: white;
                padding: 5px;
                border-radius: 5px;
                font-size: 12px;
            }
            .eye {
                display: inline-block;
                float: right;
                max-height: 15px;
                margin-left: 5px;
            }
            .eyeinverted {
                filter: sepia(13%) saturate(3207%) hue-rotate(180deg) brightness(100%) contrast(80%);
            }
            #createMarkerPopupContent {
                /* text-align: left; */
                padding: 10px;
            }
            #createMarkerTable > tbody > tr > td:first-child {
                text-align: right;
            }
		</style>
        <script type="importmap">
			{
				"imports": {
					"three": "../build/three.module.js",
					"three/addons/": "./jsm/"
				}
			}
		</script>
	</head>
	<body>
        <div id="info" class="noselect">
			<span id="toptitle"><a href="https://astrometica.com/" target="_blank" rel="noopener">Astrometica</a> 3D map</span>
		</div>
        <div id="helpbutton" class="noselect" onclick="document.getElementById('helppopup').style.display='block';">?</div>
        <div id="helppopup" class="popup" style="display: none;" class="noselect">
            <div id="helpclose" class="popupClose" onclick="document.getElementById('helppopup').style.display='none';">X</div>
            <div id="helptext">
                <h2>Controls</h2>
                <p>• Left Click and drag to pan the camera.<br/>
                • Right Click and drag to rotate the camera.<br/>
                • Scroll to zoom in and out.</p>
                <br/>
                <h2>NOTE:</h2>
                <p>
                    • This map is not official and is not affiliated with Astrometica.<br/>
                    • The map is based on the game's data files and may not be 100% accurate.<br/>
                    • The objects on the map are not to scale, distances between objects are close to scale.<br/>
                </p>
                <p>Everything is still a work in progress. Make suggestions on <a href="https://github.com/the1killer/Astrometica3DMap">github</a>.</p>
            </div>
        </div>
        <div id="attribution" class="noselect">v0.04 by <a href="https://github.com/the1killer/" target="_blank" rel="noopener">The1Killer</a></div>
        <div id="leftpanel" class="noselect">
            <div id="locationTitle">Locations <div class="expander">&#9660;</div></div>
            <ul id="locationslist"></ul>
            <div id="depositsTitle">Deposits <div class="expander">&#9660;</div></div>
            <ul id="depositslist"></ul>
            <div id="customMarkersTitle">Custom Markers <div class="expander">&#9660;</div></div>
            <ul id="customMarkersList" class="noselect"></ul>
            <div id="customMarkers" class="noselect">
                <button id="addMarkerButton">Create Marker at Current</button><br/>
                <br/>
                <input id="markerData" placeholder="Paste marker data here..." onclick="this.select()" /><br/>
                <button id="exportMarkers">Export Markers</button>
                <button id="importMarkers">Import Markers</button>
            </div>
        </div>
        <div id="coordinates">X: 0, Y: 0, Z: 0</div>
        <div id="createMarkerPopup" class="popup" style="display: none;">
            <div id="createMarkerClose" class="popupClose" onclick="document.getElementById('createMarkerPopup').style.display='none';">X</div>
            <div id="createMarkerPopupTitle"><strong>Create Marker</strong></div>
            <div id="createMarkerPopupContent">
                <input id="editMarkerId" type="hidden" />
                <table id="createMarkerTable">
                    <tr>
                        <td>Name:</td>
                        <td><input id="createMarkerName" placeholder="Name" /></td>
                    </tr>
                    <tr>
                        <td>Color:</td>
                        <td><input id="createMarkerColor" placeholder="Color" value="#FFFFFF"/></td>
                    </tr>
                    <tr>
                        <td>X:</td>
                        <td><input id="createMarkerX" placeholder="X" /></td>
                    </tr>
                    <tr>
                        <td>Y:</td>
                        <td><input id="createMarkerY" placeholder="Y" /></td>
                    </tr>
                    <tr>
                        <td>Z:</td>
                        <td><input id="createMarkerZ" placeholder="Z" /></td>
                    </tr>
                </table>
                <button id="createMarkerButton">Create Marker</button>
            </div>
        </div>
        <script type="module" src="main.js"></script>
	</body>
</html>